<!DOCTYPE html>
<html lang="es">

<!-- ===================================================== -->
<!-- 1. HEAD - METADATOS Y ESTILOS -->
<!-- ===================================================== -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Sistema de registro y gestión de horas de trabajo">
  <title>Registro de Trabajo - Gestión de Horas</title>
  <link rel="shortcut icon" href="img/horario-de-trabajo.png" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
</head>

<!-- ===================================================== -->
<!-- 2. CUERPO DEL DOCUMENTO -->
<!-- ===================================================== -->
<body>

  <!-- =========== SECCIÓN 1: FORMULARIO DE ENTRADA =========== -->
  <h2>Registrar Jornada</h2>

  <!-- Formulario para registrar nuevas jornadas de trabajo -->
  <form id="formulario">
    
    <!-- Campo: Fecha de la jornada -->
    <div class="form-group">
      <label for="fecha">Fecha</label>
      <input type="date" id="fecha" required>
    </div>

    <!-- Campo: Hora de entrada -->
    <div class="form-group">
      <label for="entrada">Hora Entrada</label>
      <input type="time" id="entrada" required>
    </div>

    <!-- Campo: Hora de salida -->
    <div class="form-group">
      <label for="salida">Hora Salida</label>
      <input type="time" id="salida" required>
    </div>

    <!-- Campo: Lugar donde se trabajó -->
    <div class="form-group">
      <label for="lugar">Lugar de Trabajo</label>
      <input type="text" id="lugar" required>
    </div>

    <!-- Botón para enviar y guardar el registro -->
    <button type="submit">Guardar</button>

  </form>


  <!-- =========== SECCIÓN 2: FILTROS Y EXPORTACIÓN =========== -->
  <h3>Registros guardados</h3>

  <!-- Selector de mes: permite filtrar registros por mes -->
  <div>
    <label for="selector-mes">Ver mes: </label>
    <select id="selector-mes"></select>
  </div>

  <!-- Botones para visualizar y descargar PDF del mes actual -->
  <button id="preview-pdf">Ver PDF</button>
  <button id="download-pdf">Descargar PDF</button>

  <!-- =========== SECCIÓN 3: TABLA DE REGISTROS =========== -->
  <!-- Tabla dinámica que muestra todos los registros del mes -->
   <div class="vista_movil">
    <table>
      <thead>
        <tr>
          <!-- Encabezados clickeables para ordenar registros -->
          <th data-column="fecha">Fecha</th>
          <th data-column="hora_entrada">Entrada</th>
          <th data-column="hora_salida">Salida</th>
          <th data-column="lugar_trabajo">Lugar</th>
          <th data-column="horas_totales">Horas Totales</th>
          <!-- Columna de acciones (modificar/borrar) -->
          <th>Acciones</th>
        </tr>
      </thead>
      <!-- Cuerpo dinámico (se llena con JavaScript) -->
      <tbody id="tabla-registros"></tbody>
    </table>
   </div>
  

  <!-- =========== SECCIÓN 4: TOTALES DEL MES =========== -->
  <!-- Contenedor para mostrar horas totales del mes seleccionado -->
  <div id="totales-mes"></div>

  <!-- =========== SECCIÓN 5: BOTON DEL CALENDARIO =========== -->
  <div class="calendar">
    <button id="calendario" onclick="window.open('calendar/index.html', '_blank')">Calendario</button>
  </div>


  <!-- =========== BOTÓN FLOTANTE - IR AL FORMULARIO =========== -->
  <!-- Botón para hacer scroll suave al formulario de entrada -->
  <button id="scroll-btn" title="Ir al formulario">
    <svg viewBox="0 0 24 24">
      <path d="M12 5V19M12 5L6 11M12 5L18 11"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"/>
    </svg>
  </button>

  <!-- =========== FOOTER =========== -->
  <!-- Pie de página con información y créditos -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h4>Registro de Trabajo</h4>
        <p>Sistema de gestión y control de horas de trabajo con exportación a PDF</p>
      </div>
      <div class="footer-section">
        <h4>Características</h4>
        <ul>
          <li>Registrar jornadas de trabajo</li>
          <li>Filtrar por mes</li>
          <li>Exportar a PDF</li>
          <li>Editar y eliminar registros</li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Información</h4>
        <p><strong>Versión:</strong> 2.0</p>
        <p><strong>Tecnología:</strong> Supabase + jsPDF</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p> Favicon de <a href="https://www.flaticon.es/iconos-gratis/experiencia-laboral" title="experiencia laboral iconos">Experiencia laboral iconos creados por Freepik - Flaticon</a></p>
      <p>&copy; 2026 Registro de Trabajo. Realizado por SLS. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- ===================================================== -->
  <!-- 3. SCRIPTS - LIBRERÍAS EXTERNAS Y APLICACIÓN -->
  <!-- ===================================================== -->

  <!-- Cliente Supabase para conexión a base de datos -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Librería jsPDF para generación de PDF -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2/dist/jspdf.umd.min.js"></script>

  <!-- Plugin autoTable para tablas en PDF -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3/dist/jspdf.plugin.autotable.min.js"></script>

  <!-- Script principal de la aplicación -->
  <script src="script.js"></script>

</body>

</html>
